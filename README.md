### Социальная сеть
Мой проект представляет собой API для социальной сети. Пользователи могут регистрироваться, редактировать свой профиль, создавать/редактировать/удалять публикации, просматривать ленту публикаций, создавать/редактировать/удалять комментарии под публикациями, а также ставить и убирать лайки. Также, я хотел реализовать мессенджер с использованием веб-сокетов, но на их корректную реализацию мне не хватило времени.


## Web service
Созданы REST контроллеры для взаимодействия с пользователями, публикациями, лайками и комментариями.
Созданы 2 кастомных исключения, а также обработчик исключений - `MyExceptionsHandler`.

## Валидация, интернационализация
Я создал 3 кастомные аннотации, которые применяются к полям профиля пользователя
- `Username` - совмещает в себе две других аннотации - NotEmpty и Size с ограничениями по длине от 2 до 40 символов
- `Address` - проверяет адрес пользователя на соответствие шаблону "Город, Страна". Для этой аннотации реализован `AddressValidator`, который обрабатывает все необходимые случаи.
- `BirthDate` - проверяет дату рождения пользователя на соответствие шаблону: "дд.мм.гггг", а также на адекватность (дата рождения не может быть более 115 лет назад и менее текущей). Для этой аннотации реализован `BirthDateValidator`, который обрабатывает все необходимые случаи.
  Также, созданы 3 проперти файла, которые хранят сообщения ошибок валидации на русском и английском языках, а также на языке по умолчанию (то есть тоже на русском).

## Конфигурация и профили
Класс `ProfilesBeansConfig` создаёт бин, название которого соответствует активному профилю. Также выводит информацию о текущем профиле в логи при запуске.

## Работа с БД
Я создал 4 сущности:
- `Person` - имеет связи OneToMany со всеми остальными сущностями
- `Publication` - имеет связи ManyToOne с `Person` и OneToMany с Comment и Like. Для этой сущности реализован CRUD.
- `Comment` - имеет связь ManyToOne с `Person` и `Publication`. Для этой сущности реализован CRUD.
- `Like` - имеет связь ManyToOne с `Person` и `Publication`. В БД таблица называется "liked". Лайки можно ставить и убирать.

## Spring Security
Реализованы регистрация, вход и выход из аккаунта.
В `SecurityConfig` заданы права доступа - незарегистрированным пользователям доступны только вход и регистрация.
Реализовано шифрование паролей с помощью BCryptPasswordEncoder.
Также, я реализовал проверку прав - пользователи могут редактировать/удалять только свои посты и комментарии.

## AOP
Реализована аннотация `RequestTimeLimit`, которая устанавливает ограничение на метод likePublication - пользователь не может ставить/убирать лайк на пост более 4 раз за минуту. Для неё реализован соответствующий `RequestTimeLimitAspect`.

## Обслуживание
Реализованы следующие метрики:
- `create.publication.request.counter` - считает количество запросов на создание публикации. Использовал аннотацию Counted
- `registration.requests` - считает время выполнения регистрации, а также количество запросов к соответствующему методу. Использовал аннотацию Timed
- `likes.counter` - считает, сколько каждый пользователь ставил/убирал лайков. Реализовано внутри `MetricsService`
- `exceptions.counter` - считает количество ошибок. Реализовано внутри `MetricsService`

Также, с помощью `prometheus.yml` и `docker-compose.yml` можно поднять Prometheus и Grafana для того, чтобы ознакомиться с метриками.